<div class="little-table">
    <nz-spin [nzSpinning]="isLoading" nzTip='Loading...'>
        <ng-template #titleTemplate>
            <div class="table-thead">
                <div class="fRight">
                    <i class="iconfont icon-shuaxin" (click)="refresh()" *ngIf="inRefreshShow"></i>
                    <!-- <i class="anticon anticon-download"></i> -->
                    <i class="iconfont icon-xiazai" (click)="down()"></i>
                </div>
            </div>
        </ng-template>
        <nz-table *ngIf="!tableError" [nzData]="tableData['rows']" [nzScroll]="{x:'100%'}" nzShowPagination="false" [nzSize]="'small'" [nzTitle]="titleTemplate">
            <thead>
                <tr>
                    <th class="center textEllipsis" style="min-width:160px;max-width: 160px;" [nzContent]="tp67" nzPlacement="top" nz-popover *ngFor="let thead of tableData['baseThead'];index as i">
                        <ng-template #tp67>
                            <span [innerHTML]="thead.name"></span>
                        </ng-template>
                        <span [innerHTML]="thead.name"></span>
                    </th>
                </tr>
            </thead>
            <!-- min-width:160px;max-width: 160px; -->
            <tbody>
                <tr *ngFor="let row of tableData['rows'];index as idx">
                    <!-- <td class="center textEllipsis" nz-tooltip [nzTitle]="row[thead.true_key]" style="min-width:160px;max-width: 160px;" *ngFor="let thead of tableData['baseThead']">
                        <a href="{{goTarget}}" target="_blank" *ngIf="thead.true_key==targetID">{{row[thead.true_key]}}</a>
                        <span *ngIf="thead.true_key!=targetID">{{row[thead.true_key]?row[thead.true_key]:"NA"}}</span>
                    </td> -->
                    <ng-container *ngFor="let thead of tableData['baseThead']">
                        <td [nzContent]="tp66" nzPlacement="top" nz-popover style="min-width:160px;max-width: 160px;text-align: center;height: 40px;white-space: nowrap;overflow: hidden;text-overflow: ellipsis;" *ngIf="row[thead.true_key]">
                            <ng-template #tp66>
                                <span [innerHTML]="row[thead.true_key]"></span>
                            </ng-template>
                            <a href="{{goTarget}}" target="_blank" *ngIf="thead.true_key==targetID">{{row[thead.true_key]}}</a>
                            <a href="{{targetID2Url}}" target="_blank" *ngIf="thead.true_key==targetID2">{{row[thead.true_key]}}</a>
                            <span [innerHTML]="row[thead.true_key]" *ngIf="thead.true_key!=targetID && thead.true_key!=targetID2"></span>
                        </td>
                        <td *ngIf="!row[thead.true_key]" style="min-width:160px;max-width: 160px;text-align: center;">
                            <span>NA</span>
                        </td>
                    </ng-container>
                </tr>
            </tbody>
        </nz-table>
    </nz-spin>
</div>